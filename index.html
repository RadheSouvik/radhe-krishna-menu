<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Radhe Krishna | Order Food</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Metropolis:wght@400;500;600;700;800&family=Hind+Siliguri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #E23744; /* Zomato Red */
            --bg-body: #F4F5F8;
            --card-bg: #FFFFFF;
            --text-main: #1C1C1C;
            --text-sub: #363636;
            --text-light: #828282;
            --border: #E8E8E8;
            --green: #24963F;
            --shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        body.dark-mode {
            --bg-body: #121212;
            --card-bg: #1C1C1C;
            --text-main: #F4F4F4;
            --text-sub: #D1D1D1;
            --text-light: #999999;
            --border: #2D2D2D;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Metropolis', 'Hind Siliguri', sans-serif; }
        body { margin: 0; background: var(--bg-body); color: var(--text-main); padding-bottom: 140px; }
        body.modal-open { overflow: hidden; }

        /* Toast */
        .toast { position: fixed; top: 80px; left: 50%; transform: translateX(-50%) translateY(-20px); background: #333; color: white; padding: 12px 24px; border-radius: 12px; font-weight: 600; z-index: 9999; opacity: 0; visibility: hidden; transition: 0.3s; }
        .toast.show { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }

        /* Header */
        .header {
            background: var(--card-bg); padding: 12px 15px; position: sticky; top: 0; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .brand-name { font-size: 1.2rem; font-weight: 800; color: var(--primary); }
        .status-text { font-size: 0.75rem; color: #24963F; font-weight: 700; display: flex; align-items: center; gap: 5px; }
        .closed-text { color: var(--primary); }
        .theme-btn { width: 35px; height: 35px; border-radius: 50%; background: var(--bg-body); display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-main); }

        /* Marquee */
        .marquee-container { padding: 10px 15px; }
        .marquee-pill { background: var(--card-bg); border: 1px solid var(--primary); border-radius: 50px; padding: 6px 15px; display: flex; align-items: center; gap: 10px; overflow: hidden; }
        .marquee-track { flex: 1; overflow: hidden; white-space: nowrap; }
        .marquee-content { display: inline-block; animation: scroll 15s linear infinite; font-weight: 700; font-size: 0.8rem; color: var(--text-main); padding-left: 100%; }
        @keyframes scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

        /* Banner */
        .banner-container { padding: 0 15px 15px; }
        .banner-slider { width: 100%; height: 160px; border-radius: 16px; overflow: hidden; position: relative; background: #ddd; }
        .slide { width: 100%; height: 100%; object-fit: cover; position: absolute; opacity: 0; transition: 0.5s; }
        .slide.active { opacity: 1; }

        /* Categories */
        .cat-scroll { display: flex; gap: 10px; overflow-x: auto; padding: 0 15px 15px; scrollbar-width: none; position: sticky; top: 60px; background: var(--bg-body); z-index: 90; }
        .cat-item { padding: 8px 18px; background: var(--card-bg); border-radius: 50px; font-weight: 600; font-size: 0.85rem; color: var(--text-sub); white-space: nowrap; cursor: pointer; border: 1px solid transparent; box-shadow: var(--shadow); transition: 0.2s; }
        .cat-item.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* Menu List */
        .menu-list { padding: 0 15px; display: flex; flex-direction: column; gap: 15px; }
        .food-card {
            background: var(--card-bg); border-radius: 16px; padding: 15px;
            display: flex; justify-content: space-between; align-items: flex-start;
            box-shadow: var(--shadow); position: relative;
        }
        .food-info { flex: 1; padding-right: 10px; }
        .veg-icon { width: 15px; height: 15px; border: 1px solid #24963F; display: flex; align-items: center; justify-content: center; margin-bottom: 5px; }
        .veg-dot { width: 7px; height: 7px; background: #24963F; border-radius: 50%; }
        .f-name { font-size: 1.1rem; font-weight: 700; color: var(--text-main); margin-bottom: 4px; line-height: 1.3; }
        .f-price { font-size: 1rem; font-weight: 600; color: var(--text-main); margin-bottom: 8px; }
        .f-desc { font-size: 0.8rem; color: var(--text-light); line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

        .food-img-box { width: 120px; height: 110px; position: relative; flex-shrink: 0; border-radius: 12px; }
        .f-img { width: 100%; height: 100%; object-fit: cover; border-radius: 12px; background: #eee; }
        
        /* ADD Button */
        .add-btn-container {
            position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);
            width: 90px; height: 34px; background: var(--card-bg);
            border-radius: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; border: 0.5px solid var(--border);
        }
        .btn-add-text { color: var(--primary); font-weight: 800; font-size: 0.9rem; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; text-transform: uppercase; cursor: pointer; }
        
        .qty-control { width: 100%; height: 100%; display: flex; align-items: center; justify-content: space-between; background: var(--primary); }
        .q-btn { width: 30px; height: 100%; color: white; display: flex; align-items: center; justify-content: center; font-weight: 900; cursor: pointer; }
        .q-val { color: white; font-weight: 700; font-size: 1rem; }

        /* Floating Cart */
        .cart-float {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px);
            width: 92%; max-width: 500px; background: var(--primary); color: white;
            padding: 12px 20px; border-radius: 12px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 25px rgba(226, 55, 68, 0.4); z-index: 1000;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer; visibility: hidden;
        }
        .cart-float.active { transform: translateX(-50%) translateY(0); visibility: visible; }
        .c-info { font-size: 0.9rem; font-weight: 700; text-transform: uppercase; }

        /* FAB */
        .fab-wrap { position: fixed; bottom: 90px; right: 20px; display: flex; flex-direction: column; gap: 12px; z-index: 900; }
        .fab-btn { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; font-size: 1.2rem; transition: 0.2s; transform: scale(0); opacity: 0; }
        .fab-main { width: 55px; height: 55px; background: var(--text-main); color: var(--card-bg); font-size: 1.4rem; z-index: 991; transform: scale(1); opacity: 1; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.3); cursor: pointer; transition: 0.3s; }
        
        .fab-wrap.active .fab-btn { transform: scale(1); opacity: 1; }
        .fab-wrap.active .fab-main { transform: rotate(45deg); background: var(--primary); color: white; }
        
        .fab-wa { background: #25D366; } .fab-call { background: #2980b9; }

        /* --- Modals --- */
        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 2000; display: none; align-items: flex-end; justify-content: center; backdrop-filter: blur(3px); }
        .sheet {
            background: var(--bg-body); width: 100%; max-width: 600px; border-radius: 20px 20px 0 0;
            max-height: 95vh; overflow-y: auto; animation: slideUp 0.3s ease-out; position: relative;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

        .sheet-header { background: var(--bg-body); padding: 20px 20px 10px; display: flex; justify-content: space-between; align-items: center; }
        .sheet-title { font-size: 1.5rem; font-weight: 800; color: var(--text-main); margin: 0; }
        .sheet-title span { color: var(--green); }
        
        /* Cart Item Card */
        .cart-item-card {
            background: var(--card-bg); border-radius: 16px; padding: 12px;
            display: flex; align-items: center; justify-content: space-between;
            margin: 0 20px 15px; box-shadow: var(--shadow);
        }
        .ci-img { width: 60px; height: 60px; border-radius: 12px; object-fit: cover; margin-right: 15px; }
        .ci-details { flex: 1; }
        .ci-name { font-weight: 700; font-size: 1rem; color: var(--text-main); margin-bottom: 2px; }
        .ci-price { font-weight: 700; color: var(--green); font-size: 0.95rem; }
        
        .ci-actions { display: flex; align-items: center; background: #F3F4F6; border-radius: 50px; padding: 5px; }
        .ci-btn { width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .ci-btn-del { color: #E23744; background: #FEE2E2; }
        .ci-btn-add { color: white; background: #10B981; }
        .ci-qty { font-weight: 700; padding: 0 10px; font-size: 0.9rem; color: var(--text-main); }

        /* Bill Section */
        .bill-section { background: var(--card-bg); padding: 20px; border-radius: 16px; margin: 0 20px 20px; box-shadow: var(--shadow); }
        .bill-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.95rem; color: var(--text-sub); font-weight: 500; }
        .bill-total { display: flex; justify-content: space-between; border-top: 1px dashed #ddd; padding-top: 15px; margin-top: 5px; font-weight: 800; font-size: 1.3rem; color: var(--primary); }

        /* Form */
        .form-section { padding: 0 20px 20px; }
        .form-group { margin-bottom: 15px; }
        .form-label { font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; display: block; color: var(--text-main); }
        .form-input { width: 100%; padding: 15px; background: var(--card-bg); border: 1px solid var(--border); border-radius: 10px; font-size: 1rem; color: var(--text-main); outline: none; }
        
        .place-order-btn {
            background: var(--green); color: white; width: calc(100% - 40px); margin: 0 20px 20px;
            padding: 16px; border: none; border-radius: 50px; font-weight: 700; font-size: 1.1rem;
            cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        /* Detail Modal */
        .detail-img { width: 100%; height: 250px; object-fit: cover; border-radius: 20px; margin-bottom: 15px; }
        .loc-card { background: var(--card-bg); padding: 15px; margin: 0 15px 15px; border-radius: 16px; text-align: center; display: none; }
        .map-frame { width: 100%; height: 180px; border-radius: 12px; border: none; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div id="toast" class="toast">Action Successful</div>

    <div class="header">
        <div class="location-box">
            <div class="brand-name">Radhe Krishna</div>
            <div class="status-text" id="status-text">Checking...</div>
        </div>
        <div class="theme-btn" onclick="document.body.classList.toggle('dark-mode')"><i class="fas fa-moon"></i></div>
    </div>

    <div class="marquee-container">
        <div class="marquee-pill">
            <i class="fas fa-bullhorn" style="color:var(--primary);"></i>
            <div class="marquee-track"><div class="marquee-content" id="scroll-text">Loading...</div></div>
        </div>
    </div>

    <div class="banner-container"><div class="banner-slider" id="banner-slider"></div></div>
    <div class="cat-scroll" id="cat-list"></div>
    <div class="menu-list" id="menu-container"></div>
    
    <!-- Map -->
    <div class="loc-card" id="loc-area">
        <iframe id="map-iframe" class="map-frame" loading="lazy"></iframe>
        <div style="padding-top:10px;"><a href="#" id="map-link" target="_blank" style="color:#2980b9; text-decoration:none; font-weight:700;">üìç Get Directions</a></div>
    </div>

    <div style="height: 20px;"></div>

    <!-- Floating Cart -->
    <div class="cart-float" id="cart-float" onclick="openModal('cart')">
        <div class="c-info" id="cart-info">0 ITEMS | ‚Çπ0</div>
        <div class="c-info">VIEW CART <i class="fas fa-chevron-right"></i></div>
    </div>

    <!-- FAB -->
    <div class="fab-wrap" id="fab-wrap">
        <div class="fab-btn fab-wa" onclick="openWA()"><i class="fab fa-whatsapp"></i></div>
        <div class="fab-btn fab-call" onclick="makeCall()"><i class="fas fa-phone-alt"></i></div>
        <div class="fab-btn fab-main" onclick="toggleFab()"><i class="fas fa-headset"></i></div>
    </div>

    <!-- Cart Modal -->
    <div class="overlay" id="modal-cart">
        <div class="sheet">
            <div class="sheet-header">
                <h2 class="sheet-title">Your <span>Selection</span></h2>
                <i class="fas fa-times" style="font-size:1.5rem; cursor:pointer;" onclick="closeModal()"></i>
            </div>
            
            <div id="cart-items-wrapper" style="margin-top: 15px;"></div>

            <!-- Bill -->
            <div class="bill-section">
                <div class="bill-row"><span>Subtotal</span><span id="bill-sub">‚Çπ0</span></div>
                <div class="bill-row"><span>Taxes & Charges</span><span>‚Çπ0</span></div>
                <div class="bill-total"><span>Total</span><span id="bill-grand">‚Çπ0</span></div>
            </div>

            <!-- Form -->
            <div class="form-section">
                <div class="form-group">
                    <label class="form-label">Full Name *</label>
                    <input type="text" id="c-name" class="form-input" placeholder="Ex. Rahul Kumar">
                </div>
                <div class="form-group">
                    <label class="form-label">Mobile Number *</label>
                    <input type="tel" id="c-phone" class="form-input" placeholder="Ex. 9876543210">
                </div>
                <!-- Removed Order Type as per request -->
                <div class="form-group">
                    <label class="form-label">Delivery Address</label>
                    <textarea id="c-addr" class="form-input" rows="2" placeholder="Street name, House no, Landmark"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Landmark</label>
                    <input type="text" id="c-land" class="form-input" placeholder="Near Temple / School etc.">
                </div>
                <div class="form-group">
                    <label class="form-label">Payment Method</label>
                    <select id="o-pay" class="form-input">
                        <option value="UPI / Online">Online / UPI</option>
                        <option value="Cash">Cash</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Preferred Delivery Time</label>
                    <select id="o-time" class="form-input">
                        <option value="9:00 PM ‚Äì 10:00 PM">9:00 PM ‚Äì 10:00 PM</option>
                        <option value="10:00 PM ‚Äì 11:00 PM">10:00 PM ‚Äì 11:00 PM</option>
                        <option value="11:00 PM ‚Äì 12:00 AM">11:00 PM ‚Äì 12:00 AM</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Special Instruction</label>
                    <textarea id="c-note" class="form-input" rows="1" placeholder="Optional..."></textarea>
                </div>
            </div>

            <p style="text-align:center; font-size:0.75rem; color:var(--text-light); margin-bottom:10px;">By clicking below, you'll be redirected to WhatsApp.</p>
            
            <button class="place-order-btn" onclick="placeOrder()">
                Place Order <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <!-- Detail Modal -->
    <div class="overlay" id="modal-detail">
        <div class="sheet" style="padding:20px; max-height:auto; border-radius:20px;">
            <div style="display:flex; justify-content:flex-end;"><i class="fas fa-times" style="font-size:1.5rem; cursor:pointer;" onclick="closeModal()"></i></div>
            <img src="" id="d-img" class="detail-img">
            <h2 id="d-name" style="margin:0 0 5px;"></h2>
            <h3 id="d-price" style="color:var(--primary); margin:0 0 15px;"></h3>
            <p id="d-desc" style="color:var(--text-sub); line-height:1.6;"></p>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";
        
        const firebaseConfig = { apiKey: "AIzaSyDifkwUmP5MehfgXdhFTs6DQzX-pNR2snE", authDomain: "radhe-krishna-1bc79.firebaseapp.com", databaseURL: "https://radhe-krishna-1bc79-default-rtdb.asia-southeast1.firebasedatabase.app", projectId: "radhe-krishna-1bc79", storageBucket: "radhe-krishna-1bc79.firebasestorage.app", messagingSenderId: "755534416421", appId: "1:755534416421:web:6b97cac0c954d223094dcc" };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        let menu={}, cats={}, conf={}, cart={}, activeCat='all', slideInt, curModal=null;

        function showToast(msg) {
            const t = document.getElementById('toast'); t.innerText=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),2500);
        }
        function formatTime(t){if(!t)return"";let[h,m]=t.split(':');let ap=h>=12?'PM':'AM';h=h%12||12;return`${h}:${m} ${ap}`;}

        onValue(ref(db, 'config'), snap => { conf=snap.val()||{}; updateUI(); });
        onValue(ref(db, 'categories'), snap => { cats=snap.val()||{}; renderCats(); renderMenu(); });
        onValue(ref(db, 'menu'), snap => { menu=snap.val()||{}; renderMenu(); });

        function updateUI(){
            const st=document.getElementById('status-text');
            if(conf.restaurantOpen){st.innerHTML=`Open Now üü¢`; st.className='status-text';}
            else{st.innerHTML=`Closed Now üî¥`; st.className='status-text closed-text';}
            
            document.getElementById('scroll-text').innerText = conf.marqueeText || "Welcome";
            
            const sl=document.getElementById('banner-slider'); sl.innerHTML='';
            if(conf.banners) conf.banners.forEach((s,i) => sl.innerHTML+=`<img src="${s}" class="slide ${i==0?'active':''}">`);
            
            if(slideInt) clearInterval(slideInt);
            let i=0; slideInt=setInterval(()=>{const s=document.querySelectorAll('.slide');if(s.length){s[i].classList.remove('active');i=(i+1)%s.length;s[i].classList.add('active');}},(conf.bannerSpeed||3)*1000);

            if(conf.mapEmbed && conf.mapLink) {
                document.getElementById('loc-area').style.display='block';
                document.getElementById('map-iframe').src = conf.mapEmbed;
                document.getElementById('map-link').href = conf.mapLink;
            }
        }

        function renderCats(){
            const d=document.getElementById('cat-list');
            let h=`<div class="cat-item ${activeCat=='all'?'active':''}" onclick="setCat('all')">All Menu</div>`;
            for(let k in cats) h+=`<div class="cat-item ${activeCat==k?'active':''}" onclick="setCat('${k}')">${cats[k].name}</div>`;
            d.innerHTML=h;
        }
        window.setCat=(c)=>{activeCat=c; renderCats(); renderMenu();}

        function renderMenu(){
            const d=document.getElementById('menu-container'); d.innerHTML='';
            for(let id in menu){
                let i=menu[id]; if(i.isAvailable===false || (activeCat!=='all' && i.category!==activeCat)) continue;
                let q=cart[id]||0;
                let btn = q===0 
                    ? `<div class="btn-add-text" onclick="mod(event,'${id}',1)">ADD</div>`
                    : `<div class="qty-control"><div class="q-btn" onclick="mod(event,'${id}',-1)">-</div><div class="q-val">${q}</div><div class="q-btn" onclick="mod(event,'${id}',1)">+</div></div>`;
                
                d.innerHTML+=`
                <div class="food-card" onclick="openDetail('${id}')">
                    <div class="food-info">
                        <div class="veg-icon"><div class="veg-dot"></div></div>
                        <div class="f-name">${i.name}</div>
                        <div class="f-price">‚Çπ${i.price}</div>
                        ${i.description ? `<div class="f-desc">${i.description}</div>`:''}
                    </div>
                    <div class="food-img-box">
                        <img src="${i.image||'https://via.placeholder.com/150'}" class="f-img">
                        <div class="add-btn-container">${btn}</div>
                    </div>
                </div>`;
            }
        }

        window.mod=(e,id,v)=>{
            e.stopPropagation();
            if(!conf.restaurantOpen){alert("Restaurant is Closed!");return;}
            if(!cart[id]) cart[id]=0;
            cart[id]+=v; if(cart[id]<=0) delete cart[id];
            renderMenu(); updateCart();
        }

        function updateCart(){
            let c=0,t=0; for(let id in cart){if(menu[id]){c+=cart[id]; t+=Number(menu[id].price)*cart[id];}}
            document.getElementById('cart-info').innerText = `${c} ITEMS | ‚Çπ${t}`;
            
            const b=document.getElementById('cart-float');
            const fab=document.getElementById('fab-wrap');
            if(c>0){b.classList.add('active'); fab.style.display='none';}
            else{b.classList.remove('active'); fab.style.display='flex'; closeModal();}
            
            if(document.getElementById('modal-cart').style.display==='flex') renderCartModal();
        }

        function renderCartModal(){
            const d=document.getElementById('cart-items-wrapper'); d.innerHTML='';
            let t=0;
            if(Object.keys(cart).length === 0) {
                 d.innerHTML = '<p style="text-align:center; padding:20px;">Cart is empty!</p>';
                 document.getElementById('bill-grand').innerText = '‚Çπ0';
                 return;
            }
            for(let id in cart){
                if(menu[id]){
                    let i=menu[id], p=Number(i.price)*cart[id]; t+=p;
                    d.innerHTML+=`
                    <div class="cart-item-card">
                        <div style="display:flex; align-items:center;">
                            <img src="${i.image||'https://via.placeholder.com/60'}" class="ci-img">
                            <div class="ci-details">
                                <div class="ci-name">${i.name}</div>
                                <div class="ci-price">‚Çπ${p}</div>
                            </div>
                        </div>
                        <div class="ci-actions">
                            <div class="ci-btn ci-btn-del" onclick="mod(event,'${id}',-1)"><i class="fas fa-minus" style="font-size:0.7rem;"></i></div>
                            <div class="ci-qty">${cart[id]}</div>
                            <div class="ci-btn ci-btn-add" onclick="mod(event,'${id}',1)"><i class="fas fa-plus" style="font-size:0.7rem;"></i></div>
                        </div>
                    </div>`;
                }
            }
            document.getElementById('bill-sub').innerText = `‚Çπ${t}`;
            document.getElementById('bill-grand').innerText = `‚Çπ${t}`;
        }

        window.openModal=(t)=>{
            curModal='modal-'+t;
            document.getElementById(curModal).style.display='flex';
            document.body.classList.add('modal-open');
            if(t==='cart') renderCartModal();
        }

        window.closeModal=()=>{
            document.querySelectorAll('.overlay').forEach(e=>e.style.display='none');
            document.body.classList.remove('modal-open');
            curModal=null;
        }
        
        window.openDetail=(id)=>{
            let i=menu[id];
            document.getElementById('d-img').src=i.image;
            document.getElementById('d-name').innerText=i.name;
            document.getElementById('d-price').innerText='‚Çπ'+i.price;
            document.getElementById('d-desc').innerText=i.description||'';
            openModal('detail');
        }
        
        window.toggleFab=()=>{document.getElementById('fab-wrap').classList.toggle('active');}
        window.makeCall=()=>window.open(`tel:${conf.contactCallNumber}`,'_self');
        window.openWA=()=>window.open(`https://wa.me/${conf.whatsappOrderNumber}`,'_blank');

        window.placeOrder=()=>{
            const n=document.getElementById('c-name').value.trim();
            const p=document.getElementById('c-phone').value.trim();
            const a=document.getElementById('c-addr').value.trim();
            const l=document.getElementById('c-land').value.trim();
            const pay=document.getElementById('o-pay').value;
            const time=document.getElementById('o-time').value;
            const note=document.getElementById('c-note').value.trim();
            
            if(!n || !p || !a){ alert("Please fill Name, Phone & Address!"); return; }

            let itemsTxt = "";
            let total = 0;
            let count = 1;
            
            for(let id in cart) {
                if(menu[id]) {
                    let i = menu[id];
                    let sub = i.price * cart[id];
                    itemsTxt += `üçΩÔ∏è ${i.name}\n`;
                    itemsTxt += `üî¢ Quantity: ${cart[id]}\n\n`;
                    total += sub;
                }
            }

            // REQUIRED FORMAT
            let msg = `üõí *Radhe Krishna ‚Äì Food Order Format*\n\n`;
            
            msg += `üë§ Name: ${n}\n`;
            msg += `üìû Mobile Number: ${p}\n\n`;
            
            msg += `üìç Full Address: ${a}\n`;
            msg += `üó∫Ô∏è Landmark: ${l || 'N/A'}\n\n`;
            
            msg += `üçΩÔ∏è Item(s) Name:\n`;
            msg += itemsTxt;
            
            msg += `üí∞ Payment Method: (${pay})\n\n`;
            
            msg += `‚è∞ Preferred Delivery Time: ${time}\n\n`;
            
            if(note) msg += `üìù Special Instruction: ${note}`;

            window.open(`https://wa.me/${conf.whatsappOrderNumber}?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>